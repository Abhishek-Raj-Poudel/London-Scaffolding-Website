---
import MainLayout from "./main.astro";
import { CTA } from "@/components/CTA";

const { frontmatter } = Astro.props;

// Mocking the content structure expected by the CSS
const content = {
  title: frontmatter.title,
  description:
    frontmatter.description ||
    "Our commitment to transparency and professionalism.",
};
---

<MainLayout content={{ title: content.title }}>
  {/* Hero Section */}
  <section class="bg-primary text-white py-20 border-b border-white/10">
    <div class="wrapper">
      <div class="max-w-4xl flex flex-col gap-6">
        <h1 class="typo-5xl">{content.title}</h1>
        <p class="typo-xl text-white/90 leading-relaxed">
          {content.description}
        </p>
      </div>
    </div>
  </section>

  {/* Main Content */}
  <section class="py-20">
    <div class="wrapper grid grid-cols-1 lg:grid-cols-3 gap-12">
      <div class="lg:col-span-2 prose prose-slate max-w-none">
        <div class="space-y-8">
          <slot />
        </div>
      </div>

      {/* Sidebar / Quick Info */}
      <aside class="space-y-8">
        <div class="bg-muted p-8 rounded-2xl">
          <h3 class="typo-xl font-bold mb-4">Need Help?</h3>
          <p class="typo-base text-muted-foreground mb-4">
            If you have any questions about our {content.title}, our team is
            here to help.
          </p>
          <ul class="space-y-3 typo-base">
            <li class="flex items-center gap-2">✓ Professional Advice</li>
            <li class="flex items-center gap-2">✓ Clear Communication</li>
            <li class="flex items-center gap-2">✓ Fast Response Times</li>
          </ul>
        </div>

        <div class="bg-primary/5 p-8 rounded-2xl border border-primary/10">
          <h3 class="typo-lg font-bold mb-2 text-primary">Last Updated</h3>
          <p class="typo-base text-muted-foreground">
            {
              new Date().toLocaleDateString("en-GB", {
                day: "numeric",
                month: "long",
                year: "numeric",
              })
            }
          </p>
        </div>
      </aside>
    </div>
  </section>

  {/* CTA Section */}
</MainLayout>

<style is:global>
  @reference "../styles/global.css";

  /* Markdown styling for the slot */
  .prose h2 {
    @apply typo-3xl mt-12 mb-6;
  }
  .prose h3 {
    @apply typo-2xl mt-8 mb-4;
  }
  .prose p {
    @apply typo-lg leading-relaxed mb-6;
  }
  .prose ul {
    @apply list-disc list-inside mb-6 space-y-2 typo-lg;
  }
</style>
